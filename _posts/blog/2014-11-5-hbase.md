---
layout: post
title: HBase使用笔记
description: HBase经历多年打磨，应用实践，大势已成，已经得到广泛的应用，不阔以不学习了解下。
category: blog
---

##黎明

列式存储数据库以列为单位聚合数据，将列值顺序地存入磁盘。这样设计基于一个假设：对特定的查询

	User
	id	username	credentials	roles	firstname	lastname	email
	
	ShortURL
	userId urlId shortId refShortId 
	
	URL
	id url refShortId title description content
	
	CLICK
	id datestamp shortId category dimension counter
	
短网址存储于ShortUrl表中，用户点击短网址来连接至完整网址。用户点击的信息记录在CLICK表中，用户信息存储在User中，网页信息存储在URL中。通过统计原始的短网址refShortId，可以统计任意一个

HBase的存储结构可以用下面数据结构来理解:

	SortedMap<RowKey, List<SortedMap<Column, List<Value, Timestamp>>>>




###Memecached
Memcached是一个高性能的分布式内存对象缓存系统，用于动态Web应用以减轻数据库负载。它通过在内存中缓存数据和对象来减少读取数据库的次数，从而提供动态、数据库驱动网站的速度。Memcached基于一个存储键/值对的hashmap。其守护进程(daemon)是用C写的，但是客户端可以用任何语言来编写，并通过memcached协议与守护进程通信。但是它并不提供冗余(例如，复制其hashmap条目)；当某个服务器停止运行或崩溃了，所有的键/值对都将丢失。

以下是memcached在Windows系统下的x86/x64版本的安装方法。

命令提示符下运行(win7下要以管理员身份运行cmd命令)

安装：

	memcached -d install
	memcached -d start
	net start "Memcached Server"

卸载：

	memcached -d stop
	memcached -d remove
	sc delete "Memcached Server"
	
memcached的基本设置：

	-p 监听的端口
	-l 连接的IP地址, 默认是本机
	-d start 启动memcached服务
	-d restart 重起memcached服务
	-d stop|shutdown 关闭正在运行的memcached服务
	-d install 安装memcached服务
	-d uninstall 卸载memcached服务
	-u 以的身份运行 (仅在以root运行的时候有效)
	-m 最大内存使用，单位MB。默认64MB
	-M 内存耗尽时返回错误，而不是删除项
	-c 最大同时连接数，默认是1024
	-f 块大小增长因子，默认是1.25
	-n 最小分配空间，key+value+flags默认是48
	-h 显示帮助

[RegularExpression]: http://www.cnblogs.com/yjhrem/articles/3406149.html/ "regx"

